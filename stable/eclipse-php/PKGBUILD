# Maintainer: BlackIkeEagle <ike DOT devolder AT gmail DOT com>

pkgname=eclipse-php
pkgver=3.0.2
_pkgtimestamp=v2011102768
pkgrel=2
pkgdesc="Eclipse IDE for PHP Developers"
arch=('i686' 'x86_64')
license=('EPL')
url='http://zend-sdk.googlecode.com/'
depends=('java-runtime' 'libxrender' 'fontconfig')
install=$pkgname.install
sha256sums=('1935f58979403057c7fc701ba9f876b60dd89cc1c3eac5eca61e792da2823731')
if [ "$CARCH" = "x86_64" ]; then
	_arch='x86_64'
	sha256sums=(${sha256sums[@]} '03591961982fa4877b60dd94def800e89ccb4dc2d93cddccdaf05d4c906ee1c8')
else
	_arch='x86'
	sha256sums=(${sha256sums[@]} '3add522a948b4f44e9190fc3598d03ab92b5f0a5e1f4988b23caa55b4ee78c5a')
fi
source=(
	"$pkgname.desktop"
	"http://zend-sdk.googlecode.com/files/$pkgname-$pkgver.$_pkgtimestamp-$_arch.tar.gz"
)

package() {
	install -dm755 "$pkgdir/opt/"
	mv "$srcdir/$pkgname" "$pkgdir/opt/"

	install -dm755 "$pkgdir/usr/bin"
	ln -sf "/opt/$pkgname/$pkgname" "$pkgdir/usr/bin/$pkgname"

	install -dm755 "$pkgdir/usr/share/pixmaps"
	ln -s "/opt/$pkgname/plugins/org.eclipse.platform_3.7.1.v201109091335/eclipse48.png" "$pkgdir/usr/share/pixmaps/$pkgname.png"
	install -Dm644 "$srcdir/$pkgname.desktop" "$pkgdir/usr/share/applications/$pkgname.desktop"
}
