# Maintainer: Bram Schoenmakers <me@bramschoenmakers.nl>
# vim:syntax=sh
pkgname=closure-compiler
pkgver=20100917
pkgrel=1
pkgdesc="Performs checking, instrumentation and optimizations on Javascript code."
arch=('any')
url="http://code.google.com/closure"
license=('APACHE')
depends=(java-runtime)
source=("http://${pkgname}.googlecode.com/files/compiler-${pkgver}.tar.gz")
sha256sums=('c26e17857bfcc6fcded7a42a81aaf89651ecc8f6bcd1ced87e3187736c15d097')

package() {
  cd $srcdir

  install -m755 -D compiler.jar $pkgdir/usr/share/java/closure-compiler/closure-compiler.jar
  mkdir $pkgdir/usr/bin
  echo '#!/bin/sh
"$JAVA_HOME/bin/java" -jar /usr/share/java/closure-compiler/closure-compiler.jar $@' > $pkgdir/usr/bin/closure
  chmod +x $pkgdir/usr/bin/closure
}
